<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' https://www.youtube.com https://s.ytimg.com; style-src 'self' 'unsafe-inline'; img-src 'self' data: blob: file: https://*.ytimg.com; media-src 'self' blob: file: http: https:; font-src 'self' data:; connect-src 'self'; worker-src 'self' blob:; frame-src 'self' https://www.youtube.com https://www.youtube-nocookie.com https://*.youtube.com; child-src 'self' https://www.youtube.com https://www.youtube-nocookie.com https://*.youtube.com; object-src 'none'; base-uri 'self'">
    <title> </title>
    <link
      rel="stylesheet"
      href="../node_modules/video.js/dist/video-js.css"
    />
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <header class="app-header">
      <div class="brand">
        <button id="back-btn" class="btn btn-ghost back-btn" title="Back to welcome" aria-label="Back">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M15 18l-6-6 6-6" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <span class="back-label">Back</span>
        </button>
      </div>
      <div class="actions">
        <span id="file-name" class="file-name" title="Currently loaded file">No file selected</span>
        <button id="theme-toggle" class="icon-btn" title="Switch to light theme" aria-label="Toggle theme" aria-pressed="false">
          <!-- Sun icon (shown in light mode) -->
          <svg class="icon sun" width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M12 4V2M12 22v-2M4.93 4.93 3.51 3.51M20.49 20.49l-1.42-1.42M4 12H2M22 12h-2M4.93 19.07 3.51 20.49M20.49 3.51l-1.42 1.42" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
            <circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="1.5"/>
          </svg>
          <!-- Moon icon (shown in dark mode) -->
          <svg class="icon moon" width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true">
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" stroke="currentColor" stroke-width="1.5" fill="none"/>
          </svg>
        </button>
      </div>
    </header>
    <main>
      <video id="ambient-video" class="ambient-video" muted playsinline aria-hidden="true"></video>
      <section id="welcome" class="welcome" aria-label="Welcome">
        <div class="welcome-card">
          <div class="welcome-title">Welcome</div>
          <div class="welcome-subtitle">Open a video to get started</div>
          <div class="welcome-actions">
            <button id="welcome-open-file" class="btn btn-primary" title="Open video">
              <span class="btn-icon" aria-hidden="true">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M14 3H8a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h8a3 3 0 0 0 3-3V8z" />
                  <path d="M14 3v5h5" />
                  <rect x="9.2" y="12" width="4.3" height="4" rx="1.1" />
                  <path d="M13.5 13.2l2.6-1.8v5.2l-2.6-1.8" />
                </svg>
              </span>
              <span class="btn-label">Open Video</span>
            </button>
            <div class="or">or</div>
            <div class="welcome-input-group">
              <input id="url-input" class="welcome-input" type="text" placeholder="Paste URL (mp4, m3u8, YouTube)" aria-label="Video URL" />
              <button id="url-paste" class="btn btn-ghost paste-btn" type="button" title="Paste from clipboard">
                <span class="btn-icon" aria-hidden="true">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="8" y="3" width="8" height="4" rx="1.2" />
                    <path d="M9 5H7a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-2" />
                    <path d="M10 12h4" />
                    <path d="M10 16h6" />
                  </svg>
                </span>
              </button>
            </div>
            <button id="url-play" class="btn btn-secondary" title="Play from URL">
              <span class="btn-icon" aria-hidden="true">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M7.5 18.5h9a4 4 0 0 0 0-8 5.2 5.2 0 0 0-10.2-1.4A3.5 3.5 0 0 0 7.5 18.5z" />
                </svg>
              </span>
              <span class="btn-label">Play URL</span>
            </button>
            <div class="hint">or drag & drop a file into the window</div>
          </div>
        </div>
      </section>
      
      <div class="player-container">
        <video
          id="video-player"
          class="video-js vjs-default-skin"
          crossorigin="anonymous"
          controls
          preload="auto"
        ></video>
      </div>
      
    </main>
    <div id="drag-overlay" class="drag-overlay">
      <div class="drag-overlay-content">
        <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
          <polyline points="17 8 12 3 7 8"></polyline>
          <line x1="12" y1="3" x2="12" y2="15"></line>
        </svg>
        <div class="title">Drop to play</div>
        <div class="subtitle">Release the file to open it</div>
      </div>
    </div>

    <script src="../node_modules/video.js/dist/video.min.js"></script>
    <script src="../node_modules/videojs-youtube/dist/Youtube.min.js"></script>
    <script src="./renderer.js"></script>
  </body>
  </html>
